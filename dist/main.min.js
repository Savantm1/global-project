"use strict";function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,n=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var myForm=document.querySelector("#form"),submit=document.querySelector(".form__submit"),closeMessage=document.querySelector(".message__btn"),message=document.querySelector(".message");function validateForm(e){var t=!0;return validateField(e.elements.name)||(t=!1),validateField(e.elements.email)||(t=!1),t}function validateField(e){return e.nextElementSibling.textContent=e.validationMessage,e.checkValidity()}submit.addEventListener("click",function(e){if(e.preventDefault(),validateForm(myForm)){var t=new FormData;t.append("name",myForm.elements.name.value),t.append("phone","2123"),t.append("comment","asdzxc"),t.append("to",myForm.elements.email.value);var i=new XMLHttpRequest;i.open("POST","https://webdev-api.loftschool.com/sendmail/"),i.responseType="json",i.send(t),i.addEventListener("load",function(){console.log(i.response.status)}),messageHide()}});var messageHide=function(){message.classList.remove("visually-hidden"),closeMessage.addEventListener("click",function(e){e.preventDefault(),message.classList.add("visually-hidden")})},paginator=document.querySelectorAll(".paginator__item"),section=document.querySelectorAll("section"),sectionForm=document.querySelector(".hire_us"),sectionHome=document.querySelector(".section_home"),hireBtn=document.querySelectorAll(".btn_to_form"),formBtn=sectionForm.querySelectorAll(".form__btn"),formCheck=sectionForm.querySelectorAll(".checkbox"),deviceView=document.querySelector(".device_view"),outer=document.querySelector(".outer"),hamburgerBtn=document.querySelector(".header__hamburger"),nav=document.querySelectorAll(".outer__item"),windowDevice=document.querySelector(".device_view_window"),sliderItems=document.querySelectorAll(".slider__item"),sliderList=document.querySelector(".slider__list"),arrowLeft=document.querySelector(".left_arrow"),arrowRight=document.querySelector(".right_arrow"),removeActive=function(){var e,t=_createForOfIteratorHelper(section);try{for(t.s();!(e=t.n()).done;){e.value.classList.remove("section--active")}}catch(e){t.e(e)}finally{t.f()}var i,r=_createForOfIteratorHelper(paginator);try{for(r.s();!(i=r.n()).done;){i.value.classList.remove("paginator__item--active")}}catch(e){r.e(e)}finally{r.f()}var n,o=_createForOfIteratorHelper(nav);try{for(o.s();!(n=o.n()).done;){n.value.classList.remove("outer__item--active")}}catch(e){o.e(e)}finally{o.f()}},sectionShow=function(){for(var e=function(t){paginator[t].addEventListener("click",function(e){e.preventDefault(),removeActive(),section[t].classList.add("section--active"),paginator[t].classList.add("paginator__item--active"),nav[t].classList.add("outer__item--active"),sectionCheck()})},t=0;t<paginator.length;t++)e(t)},formLink=function(){var e,t=_createForOfIteratorHelper(hireBtn);try{for(t.s();!(e=t.n()).done;){e.value.addEventListener("click",function(e){e.preventDefault(),removeActive(),sectionForm.classList.add("section--active"),nav[4].classList.add("outer__item--active")})}}catch(e){t.e(e)}finally{t.f()}},formBtnActive=function(){for(var e=function(t){formBtn[t].addEventListener("click",function(e){e.preventDefault(),formBtn[t].classList.toggle("form__btn--active"),formCheck[t].classList.toggle("checkbox--active")})},t=0;t<formBtn.length;t++)e(t)},sectionCheck=function(){sectionHome.classList.contains("section--active")?hireBtn[0].style.display="none":hireBtn[0].style.display="block"},deviceMagic=function(){hamburgerBtn.addEventListener("click",function(){deviceView.classList.add("device_view--active"),outer.classList.remove("visually-hidden"),windowDevice.classList.add("device_view_window--active")}),navigation()},navigation=function(){for(var e=function(t){nav[t].addEventListener("click",function(e){outer.classList.add("visually-hidden"),deviceView.classList.remove("device_view--active"),windowDevice.classList.remove("device_view_window--active"),removeActive(),section[t].classList.add("section--active"),paginator[t].classList.add("paginator__item--active"),nav[t].classList.add("outer__item--active"),sectionCheck()})},t=0;t<nav.length;t++)e(t);hideNav()},hideNav=function(){windowDevice.addEventListener("click",function(){outer.classList.add("visually-hidden"),deviceView.classList.remove("device_view--active"),windowDevice.classList.remove("device_view_window--active")})},slider=function(){arrowLeft.addEventListener("click",function(){sliderList.classList.add("slider__list--hide"),setTimeout(function(){for(var e=Object.values(sliderItems),t=0,i=e;t<i.length;t++){i[t].classList.remove("slider__item--active")}sliderList.removeChild(sliderItems[0]),sliderList.appendChild(e[0]);var r=Math.floor(e.length/2),n=document.querySelectorAll(".slider__item");sliderList=document.querySelector(".slider__list"),n[r].classList.add("slider__item--active"),sliderItems=n},300),setTimeout(function(){sliderList.classList.remove("slider__list--hide")},301)}),arrowRight.addEventListener("click",function(){sliderList.classList.add("slider__list--hide"),setTimeout(function(){for(var e=Object.values(sliderItems),t=0,i=e;t<i.length;t++){i[t].classList.remove("slider__item--active")}sliderList.removeChild(sliderItems[2]),sliderList.insertAdjacentElement("afterBegin",e[2]);var r=Math.floor(e.length/2),n=document.querySelectorAll(".slider__item");sliderList=document.querySelector(".slider__list"),n[r].classList.add("slider__item--active"),sliderItems=n},300),setTimeout(function(){sliderList.classList.remove("slider__list--hide")},301)})};slider(),sectionShow(),formLink(),formBtnActive(),deviceMagic(),navigation();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiLCJob21lLmpzIl0sIm5hbWVzIjpbIm15Rm9ybSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdCIsImNsb3NlTWVzc2FnZSIsIm1lc3NhZ2UiLCJ2YWxpZGF0ZUZvcm0iLCJmb3JtIiwidmFsaWQiLCJ2YWxpZGF0ZUZpZWxkIiwiZWxlbWVudHMiLCJuYW1lIiwiZW1haWwiLCJmaWVsZCIsIm5leHRFbGVtZW50U2libGluZyIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjaGVja1ZhbGlkaXR5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInZhbHVlIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwic2VuZCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsInN0YXR1cyIsIm1lc3NhZ2VIaWRlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicGFnaW5hdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsInNlY3Rpb24iLCJzZWN0aW9uRm9ybSIsInNlY3Rpb25Ib21lIiwiaGlyZUJ0biIsImZvcm1CdG4iLCJmb3JtQ2hlY2siLCJkZXZpY2VWaWV3Iiwib3V0ZXIiLCJoYW1idXJnZXJCdG4iLCJuYXYiLCJ3aW5kb3dEZXZpY2UiLCJzbGlkZXJJdGVtcyIsInNsaWRlckxpc3QiLCJhcnJvd0xlZnQiLCJhcnJvd1JpZ2h0IiwicmVtb3ZlQWN0aXZlIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciIsInMiLCJuIiwiZG9uZSIsImVyciIsImUiLCJmIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJzZWN0aW9uU2hvdyIsIl9sb29wIiwiaSIsInNlY3Rpb25DaGVjayIsImxlbmd0aCIsImZvcm1MaW5rIiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsImZvcm1CdG5BY3RpdmUiLCJfbG9vcDIiLCJpdGVtIiwidG9nZ2xlIiwiY29udGFpbnMiLCJzdHlsZSIsImRpc3BsYXkiLCJkZXZpY2VNYWdpYyIsIm5hdmlnYXRpb24iLCJfbG9vcDMiLCJoaWRlTmF2Iiwic2xpZGVyIiwic2V0VGltZW91dCIsImFycmF5U2xpZGUiLCJPYmplY3QiLCJ2YWx1ZXMiLCJfaSIsIl9hcnJheVNsaWRlIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsIm1pZGRsZUl0ZW0iLCJNYXRoIiwiZmxvb3IiLCJzbGlkZXJJdGVtc0NoYW5jaGVkIiwiX2kyIiwiX2FycmF5U2xpZGUyIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Il0sIm1hcHBpbmdzIjoiaW1DQUNBLElBQUFBLE9BQUFDLFNBQUFDLGNBQUEsU0FDQUMsT0FBQUYsU0FBQUMsY0FBQSxpQkFDQUUsYUFBQUgsU0FBQUMsY0FBQSxpQkFDQUcsUUFBQUosU0FBQUMsY0FBQSxZQUlBLFNBQUFJLGFBQUFDLEdBQ0EsSUFBQUMsR0FBQSxFQVdBLE9BVEFDLGNBQUFGLEVBQUFHLFNBQUFDLFFBQ0FILEdBQUEsR0FJQUMsY0FBQUYsRUFBQUcsU0FBQUUsU0FDQUosR0FBQSxHQUdBQSxFQUdBLFNBQUFDLGNBQUFJLEdBRUEsT0FEQUEsRUFBQUMsbUJBQUFDLFlBQUFGLEVBQUFHLGtCQUNBSCxFQUFBSSxnQkFJQWQsT0FBQWUsaUJBQUEsUUFBQSxTQUFBQyxHQUdBLEdBRkFBLEVBQUFDLGlCQUVBZCxhQUFBTixRQUFBLENBQ0EsSUFBQXFCLEVBQUEsSUFBQUMsU0FHQUQsRUFBQUUsT0FBQSxPQUFBdkIsT0FBQVUsU0FBQUMsS0FBQWEsT0FDQUgsRUFBQUUsT0FBQSxRQUFBLFFBQ0FGLEVBQUFFLE9BQUEsVUFBQSxVQUNBRixFQUFBRSxPQUFBLEtBQUF2QixPQUFBVSxTQUFBRSxNQUFBWSxPQUdBLElBQUFDLEVBQUEsSUFBQUMsZUFDQUQsRUFBQUUsS0FBQSxPQUFBLCtDQUNBRixFQUFBRyxhQUFBLE9B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QyxLQUFBQyxNQUFBVCxFQUFBakIsT0FBQSxHQUNBMkIsRUFBQW5HLFNBQUFzQyxpQkFBQSxpQkFDQWEsV0FBQW5ELFNBQUFDLGNBQUEsaUJBQ0FrRyxFQUFBSCxHQUFBOUQsVUFBQUUsSUFBQSx3QkFDQWMsWUFBQWlELEdBRUEsS0FFQVgsV0FBQSxXQUNBckMsV0FBQWpCLFVBQUFDLE9BQUEsdUJBQ0EsT0FJQWtCLFdBQUFwQyxpQkFBQSxRQUFBLFdBQ0FrQyxXQUFBakIsVUFBQUUsSUFBQSxzQkFFQW9ELFdBQUEsV0FHQSxJQURBLElBQUFDLEVBQUFDLE9BQUFDLE9BQUF6QyxhQUNBa0QsRUFBQSxFQUFBQyxFQUFBWixFQUFBVyxFQUFBQyxFQUFBN0IsT0FBQTRCLElBQUEsQ0FBQUMsRUFBQUQsR0FDQWxFLFVBQUFDLE9BQUEsd0JBRUFnQixXQUFBMkMsWUFBQTVDLFlBQUEsSUFDQUMsV0FBQW1ELHNCQUFBLGFBQUFiLEVBQUEsSUFDQSxJQUFBTyxFQUFBQyxLQUFBQyxNQUFBVCxFQUFBakIsT0FBQSxHQUNBMkIsRUFBQW5HLFNBQUFzQyxpQkFBQSxpQkFDQWEsV0FBQW5ELFNBQUFDLGNBQUEsaUJBQ0FrRyxFQUFBSCxHQUFBOUQsVUFBQUUsSUFBQSx3QkFDQWMsWUFBQWlELEdBRUEsS0FFQVgsV0FBQSxXQUNBckMsV0FBQWpCLFVBQUFDLE9BQUEsdUJBQ0EsUUFXQW9ELFNBRUFuQixjQUNBSyxXQUNBRyxnQkFDQU8sY0FDQUMiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxubGV0IG15Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtJyk7XHJcbmxldCBzdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3VibWl0Jyk7XHJcbmxldCBjbG9zZU1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVzc2FnZV9fYnRuJyk7XHJcbmxldCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lc3NhZ2UnKTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGZvcm0pIHtcclxuIGxldCB2YWxpZCA9IHRydWU7XHJcblxyXG4gaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMubmFtZSkpIHtcclxuICAgdmFsaWQgPSBmYWxzZTtcclxuIH1cclxuXHJcblxyXG4gaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMuZW1haWwpKSB7XHJcbiAgIHZhbGlkID0gZmFsc2U7XHJcbiB9XHJcblxyXG4gcmV0dXJuIHZhbGlkO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUZpZWxkKGZpZWxkKSB7XHJcbiBmaWVsZC5uZXh0RWxlbWVudFNpYmxpbmcudGV4dENvbnRlbnQgPSBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZTtcclxuIHJldHVybiBmaWVsZC5jaGVja1ZhbGlkaXR5KCk7XHJcbn07XHJcblxyXG5cclxuc3VibWl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiBcclxuIGlmICh2YWxpZGF0ZUZvcm0obXlGb3JtKSkge1xyXG4gICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gXHJcbiAgIFxyXG4gICBmb3JtRGF0YS5hcHBlbmQoXCJuYW1lXCIsIG15Rm9ybS5lbGVtZW50cy5uYW1lLnZhbHVlKTtcclxuICAgZm9ybURhdGEuYXBwZW5kKFwicGhvbmVcIiwgXCIyMTIzXCIpO1xyXG4gICBmb3JtRGF0YS5hcHBlbmQoXCJjb21tZW50XCIsIFwiYXNkenhjXCIpO1xyXG4gICBmb3JtRGF0YS5hcHBlbmQoXCJ0b1wiLCBteUZvcm0uZWxlbWVudHMuZW1haWwudmFsdWUpO1xyXG5cclxuIFxyXG4gICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgeGhyLm9wZW4oJ1BPU1QnLCAnaHR0cHM6Ly93ZWJkZXYtYXBpLmxvZnRzY2hvb2wuY29tL3NlbmRtYWlsLycpO1xyXG4gICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xyXG4gICB4aHIuc2VuZChmb3JtRGF0YSk7XHJcbiAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgIGNvbnNvbGUubG9nKHhoci5yZXNwb25zZS5zdGF0dXMpO1xyXG4gICB9KTtcclxuICAgXHJcbiAgIG1lc3NhZ2VIaWRlKCk7XHJcblxyXG4gfTtcclxuXHJcbn0pO1xyXG5cclxubGV0IG1lc3NhZ2VIaWRlID0gKCk9PiB7XHJcbiBtZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc3VhbGx5LWhpZGRlbicpO1xyXG5cclxuIGNsb3NlTWVzc2FnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuXHJcbiAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICBtZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ3Zpc3VhbGx5LWhpZGRlbicpO1xyXG4gIFxyXG4gfSlcclxufSIsImxldCBwYWdpbmF0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGFnaW5hdG9yX19pdGVtJyk7XHJcbmxldCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2VjdGlvbicpO1xyXG5sZXQgc2VjdGlvbkZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlyZV91cycpO1xyXG5sZXQgc2VjdGlvbkhvbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbl9ob21lJylcclxubGV0IGhpcmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYnRuX3RvX2Zvcm0nKTtcclxubGV0IGZvcm1CdG4gPSBzZWN0aW9uRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9fYnRuJyk7XHJcbmxldCBmb3JtQ2hlY2sgPSBzZWN0aW9uRm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gnKTtcclxubGV0IGRldmljZVZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV2aWNlX3ZpZXcnKTtcclxubGV0IG91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm91dGVyJyk7XHJcbmxldCBoYW1idXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19oYW1idXJnZXInKTtcclxubGV0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vdXRlcl9faXRlbScpO1xyXG5sZXQgd2luZG93RGV2aWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRldmljZV92aWV3X3dpbmRvdycpO1xyXG5sZXQgc2xpZGVySXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19pdGVtJyk7XHJcbmxldCBzbGlkZXJMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fbGlzdCcpO1xyXG5sZXQgYXJyb3dMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlZnRfYXJyb3cnKTtcclxubGV0IGFycm93UmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRfYXJyb3cnKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5sZXQgcmVtb3ZlQWN0aXZlID0gKCkgPT4ge1xyXG4gIFxyXG4gIGZvciAobGV0IGl0ZW0gb2Ygc2VjdGlvbikge1xyXG4gICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzZWN0aW9uLS1hY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIGZvciAobGV0IGl0ZW0gb2YgcGFnaW5hdG9yKSB7XHJcbiAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3BhZ2luYXRvcl9faXRlbS0tYWN0aXZlJylcclxuICB9XHJcblxyXG4gIGZvciAobGV0IGl0ZW0gb2YgbmF2KSB7XHJcbiAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ291dGVyX19pdGVtLS1hY3RpdmUnKVxyXG4gIH1cclxuXHJcbn07XHJcblxyXG5sZXQgc2VjdGlvblNob3cgPSAoKSA9PiB7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnaW5hdG9yLmxlbmd0aDsgaSsrKSB7XHJcblxyXG4gICAgcGFnaW5hdG9yW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgcmVtb3ZlQWN0aXZlKCk7XHJcbiAgICAgIHNlY3Rpb25baV0uY2xhc3NMaXN0LmFkZCgnc2VjdGlvbi0tYWN0aXZlJyk7XHJcbiAgICAgIHBhZ2luYXRvcltpXS5jbGFzc0xpc3QuYWRkKCdwYWdpbmF0b3JfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICBuYXZbaV0uY2xhc3NMaXN0LmFkZCgnb3V0ZXJfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICBzZWN0aW9uQ2hlY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcblxyXG5cclxubGV0IGZvcm1MaW5rID0gKCkgPT4ge1xyXG5cclxuICBmb3IgKGxldCBpdGVtIG9mIGhpcmVCdG4pIHtcclxuXHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xyXG4gIFxyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgcmVtb3ZlQWN0aXZlKCk7XHJcbiAgICAgIHNlY3Rpb25Gb3JtLmNsYXNzTGlzdC5hZGQoJ3NlY3Rpb24tLWFjdGl2ZScpO1xyXG4gICAgICBuYXZbNF0uY2xhc3NMaXN0LmFkZCgnb3V0ZXJfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgfSlcclxuICB9XHJcbn07XHJcblxyXG5sZXQgZm9ybUJ0bkFjdGl2ZSA9ICgpID0+IHtcclxuICBmb3IgKGxldCBpdGVtID0gMDsgaXRlbSA8IGZvcm1CdG4ubGVuZ3RoOyBpdGVtKyspIHtcclxuICAgIGZvcm1CdG5baXRlbV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBmb3JtQnRuW2l0ZW1dLmNsYXNzTGlzdC50b2dnbGUoJ2Zvcm1fX2J0bi0tYWN0aXZlJyk7XHJcbiAgICAgIGZvcm1DaGVja1tpdGVtXS5jbGFzc0xpc3QudG9nZ2xlKCdjaGVja2JveC0tYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gIH1cclxufTtcclxuXHJcbmxldCBzZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XHJcbiAgaWYgKHNlY3Rpb25Ib21lLmNsYXNzTGlzdC5jb250YWlucygnc2VjdGlvbi0tYWN0aXZlJykpIHtcclxuICAgIGhpcmVCdG5bMF0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9IGVsc2Uge1xyXG4gICAgaGlyZUJ0blswXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICB9XHJcbiAgXHJcbn07XHJcblxyXG5sZXQgZGV2aWNlTWFnaWMgPSAoKSA9PiB7XHJcbiAgXHJcbiAgaGFtYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgZGV2aWNlVmlldy5jbGFzc0xpc3QuYWRkKCdkZXZpY2Vfdmlldy0tYWN0aXZlJyk7XHJcbiAgICBvdXRlci5jbGFzc0xpc3QucmVtb3ZlKCd2aXN1YWxseS1oaWRkZW4nKTtcclxuICAgIHdpbmRvd0RldmljZS5jbGFzc0xpc3QuYWRkKCdkZXZpY2Vfdmlld193aW5kb3ctLWFjdGl2ZScpXHJcbiAgfSk7XHJcblxyXG4gIG5hdmlnYXRpb24oKTtcclxuXHJcbn07XHJcblxyXG5sZXQgbmF2aWdhdGlvbiA9ICgpID0+IHtcclxuXHJcbiAgZm9yIChsZXQgaXRlbSA9IDA7IGl0ZW0gPCBuYXYubGVuZ3RoOyBpdGVtKyspIHtcclxuXHJcbiAgICBuYXZbaXRlbV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcblxyXG4gICAgICBvdXRlci5jbGFzc0xpc3QuYWRkKCd2aXN1YWxseS1oaWRkZW4nKTtcclxuICAgICAgZGV2aWNlVmlldy5jbGFzc0xpc3QucmVtb3ZlKCdkZXZpY2Vfdmlldy0tYWN0aXZlJyk7XHJcbiAgICAgIHdpbmRvd0RldmljZS5jbGFzc0xpc3QucmVtb3ZlKCdkZXZpY2Vfdmlld193aW5kb3ctLWFjdGl2ZScpO1xyXG4gICAgICByZW1vdmVBY3RpdmUoKTtcclxuICAgICAgc2VjdGlvbltpdGVtXS5jbGFzc0xpc3QuYWRkKCdzZWN0aW9uLS1hY3RpdmUnKTtcclxuICAgICAgcGFnaW5hdG9yW2l0ZW1dLmNsYXNzTGlzdC5hZGQoJ3BhZ2luYXRvcl9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgIG5hdltpdGVtXS5jbGFzc0xpc3QuYWRkKCdvdXRlcl9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgIHNlY3Rpb25DaGVjaygpO1xyXG4gICAgfSlcclxuXHJcbiAgfVxyXG4gIGhpZGVOYXYoKTtcclxuXHJcbn07XHJcblxyXG5sZXQgaGlkZU5hdiA9ICgpID0+IHtcclxuICBcclxuICB3aW5kb3dEZXZpY2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBvdXRlci5jbGFzc0xpc3QuYWRkKCd2aXN1YWxseS1oaWRkZW4nKTtcclxuICAgIGRldmljZVZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnZGV2aWNlX3ZpZXctLWFjdGl2ZScpO1xyXG4gICAgd2luZG93RGV2aWNlLmNsYXNzTGlzdC5yZW1vdmUoJ2RldmljZV92aWV3X3dpbmRvdy0tYWN0aXZlJyk7XHJcbiAgfSlcclxufTtcclxuXHJcbmxldCBzbGlkZXIgPSAoKSA9PiB7XHJcblxyXG4gIGFycm93TGVmdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHNsaWRlckxpc3QuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19saXN0LS1oaWRlJyk7XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICBsZXQgYXJyYXlTbGlkZSA9IE9iamVjdC52YWx1ZXMoc2xpZGVySXRlbXMpO1xyXG4gICAgICBmb3IgKGxldCBpdGVtIG9mIGFycmF5U2xpZGUpIHtcclxuICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgICAgc2xpZGVyTGlzdC5yZW1vdmVDaGlsZChzbGlkZXJJdGVtc1swXSk7XHJcbiAgICAgIHNsaWRlckxpc3QuYXBwZW5kQ2hpbGQoYXJyYXlTbGlkZVswXSk7XHJcbiAgICAgIGxldCBtaWRkbGVJdGVtID0gTWF0aC5mbG9vcihhcnJheVNsaWRlLmxlbmd0aCAvIDIpO1xyXG4gICAgICBsZXQgc2xpZGVySXRlbXNDaGFuY2hlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX2l0ZW0nKTtcclxuICAgICAgc2xpZGVyTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2xpc3QnKTtcclxuICAgICAgc2xpZGVySXRlbXNDaGFuY2hlZFttaWRkbGVJdGVtXS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICBzbGlkZXJJdGVtcyA9IHNsaWRlckl0ZW1zQ2hhbmNoZWQ7XHJcblxyXG4gICAgfSwgMzAwKVxyXG4gICAgXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgc2xpZGVyTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2xpc3QtLWhpZGUnKTtcclxuICAgIH0sIDMwMSk7XHJcbiAgfSk7XHJcbiAgXHJcblxyXG4gIGFycm93UmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fbGlzdC0taGlkZScpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cclxuICAgICAgbGV0IGFycmF5U2xpZGUgPSBPYmplY3QudmFsdWVzKHNsaWRlckl0ZW1zKTtcclxuICAgICAgZm9yIChsZXQgaXRlbSBvZiBhcnJheVNsaWRlKSB7XHJcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICAgIHNsaWRlckxpc3QucmVtb3ZlQ2hpbGQoc2xpZGVySXRlbXNbMl0pO1xyXG4gICAgICBzbGlkZXJMaXN0Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJCZWdpbicsIGFycmF5U2xpZGVbMl0pO1xyXG4gICAgICBsZXQgbWlkZGxlSXRlbSA9IE1hdGguZmxvb3IoYXJyYXlTbGlkZS5sZW5ndGggLyAyKTtcclxuICAgICAgbGV0IHNsaWRlckl0ZW1zQ2hhbmNoZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19pdGVtJyk7XHJcbiAgICAgIHNsaWRlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19saXN0Jyk7XHJcbiAgICAgIHNsaWRlckl0ZW1zQ2hhbmNoZWRbbWlkZGxlSXRlbV0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19pdGVtLS1hY3RpdmUnKTtcclxuICAgICAgc2xpZGVySXRlbXMgPSBzbGlkZXJJdGVtc0NoYW5jaGVkO1xyXG5cclxuICAgIH0sIDMwMCk7XHJcbiAgICBcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzbGlkZXJMaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fbGlzdC0taGlkZScpO1xyXG4gICAgfSwgMzAxKTtcclxuICB9KTtcclxuXHJcbiAgXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuc2xpZGVyKCk7XHJcblxyXG5zZWN0aW9uU2hvdygpO1xyXG5mb3JtTGluaygpO1xyXG5mb3JtQnRuQWN0aXZlKCk7XHJcbmRldmljZU1hZ2ljKCk7XHJcbm5hdmlnYXRpb24oKTtcclxuIl19
